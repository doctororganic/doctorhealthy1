<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate="diet_planning_title">Diet Planning - Nutrition Platform</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2c5aa0;
            --secondary-color: #f8f9fa;
            --accent-color: #28a745;
            --text-color: #333;
            --border-color: #dee2e6;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px 0;
        }

        [dir="rtl"] {
            font-family: 'Noto Sans Arabic', sans-serif;
        }

        .diet-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .diet-header {
            background: linear-gradient(135deg, var(--primary-color) 0%, #1e3c72 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .diet-header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 700;
        }

        .diet-header p {
            margin: 10px 0 0;
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .nav-tabs {
            border-bottom: 3px solid var(--primary-color);
            background: var(--secondary-color);
        }

        .nav-tabs .nav-link {
            border: none;
            color: var(--text-color);
            font-weight: 600;
            padding: 20px 30px;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .nav-tabs .nav-link:hover {
            border-color: transparent;
            background: rgba(44, 90, 160, 0.1);
        }

        .nav-tabs .nav-link.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .tab-content {
            padding: 40px;
        }

        .form-section {
            background: var(--secondary-color);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border-left: 5px solid var(--primary-color);
        }

        .form-section h3 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-weight: 600;
        }

        .form-control, .form-select {
            border-radius: 10px;
            border: 2px solid var(--border-color);
            padding: 12px 15px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-control:focus, .form-select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.2rem rgba(44, 90, 160, 0.25);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color) 0%, #1e3c72 100%);
            border: none;
            border-radius: 10px;
            padding: 12px 30px;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(44, 90, 160, 0.3);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--accent-color) 0%, #20c997 100%);
            border: none;
            border-radius: 10px;
            padding: 12px 30px;
            font-weight: 600;
        }

        .results-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
            display: none;
        }

        .result-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid var(--accent-color);
        }

        .result-card h4 {
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .meal-plan {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
            display: none;
        }

        .day-card {
            background: var(--secondary-color);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border: 2px solid var(--border-color);
        }

        .meal-item {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            border-left: 4px solid var(--accent-color);
        }

        .subscription-section {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
            text-align: center;
        }

        .weekly-plan-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .week-selector {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
        }

        .week-btn {
            padding: 10px 20px;
            border: 2px solid var(--primary-color);
            background: white;
            color: var(--primary-color);
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .week-btn.active {
            background: var(--primary-color);
            color: white;
        }

        .generate-btn {
            background: linear-gradient(135deg, var(--accent-color) 0%, #20c997 100%);
            border: none;
            color: white;
            padding: 15px 40px;
            border-radius: 25px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 20px 0;
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(40, 167, 69, 0.3);
        }

        .pdf-download-btn {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
            border: none;
            color: white;
            padding: 12px 30px;
            border-radius: 20px;
            font-weight: 600;
            cursor: pointer;
            margin-left: 15px;
        }

        .meal-plan-display {
            display: none;
            margin-top: 30px;
        }

        .day-plan {
            background: var(--secondary-color);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 5px solid var(--accent-color);
        }

        .meal-card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .meal-card h5 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .ingredients-list {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }

        .nutrition-info {
            display: flex;
            justify-content: space-between;
            background: #e9ecef;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
        }

        .loading-spinner {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .language-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .language-switcher select {
            background-color: var(--bs-dark);
            color: var(--bs-light);
            border: 1px solid var(--bs-secondary);
            border-radius: 0.375rem;
            padding: 0.25rem 0.5rem;
            font-size: 0.875rem;
        }

        .flag-en {
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCA2MCAzMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjMwIiBmaWxsPSIjMDEyMTY5Ii8+CjxwYXRoIGQ9Ik0wIDBoNjB2Mkgwem0wIDRoNjB2Mkgwem0wIDRoNjB2Mkgwem0wIDRoNjB2Mkgwem0wIDRoNjB2Mkgwem0wIDRoNjB2Mkgwem0wIDRoNjB2MkgweiIgZmlsbD0id2hpdGUiLz4KPHJlY3Qgd2lkdGg9IjI0IiBoZWlnaHQ9IjE0IiBmaWxsPSIjMDEyMTY5Ii8+Cjwvc3ZnPgo=');
        }

        .flag-ar {
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCA2MCAzMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjYwIiBoZWlnaHQ9IjEwIiBmaWxsPSIjQ0UxMTI2Ii8+CjxyZWN0IHk9IjEwIiB3aWR0aD0iNjAiIGhlaWdodD0iMTAiIGZpbGw9IndoaXRlIi8+CjxyZWN0IHk9IjIwIiB3aWR0aD0iNjAiIGhlaWdodD0iMTAiIGZpbGw9IiMwMDAwMDAiLz4KPC9zdmc+Cg==');
        }

        @media (max-width: 768px) {
            .diet-container {
                margin: 10px;
                border-radius: 15px;
            }

            .diet-header {
                padding: 20px;
            }

            .diet-header h1 {
                font-size: 2rem;
            }

            .tab-content {
                padding: 20px;
            }

            .form-section {
                padding: 20px;
            }

            .nav-tabs .nav-link {
                padding: 15px 20px;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Language Switcher -->
    <div class="language-switcher">
        <select class="form-select form-select-sm" onchange="switchLanguage(this.value)" id="language-select">
                    <option value="en">English</option>
                    <option value="ar">العربية</option>
                </select>
    </div>

    <div class="container-fluid">
        <div class="diet-container">
            <!-- Header -->
            <div class="diet-header">
                <h1 data-translate="diet_planning_title">Diet Planning System</h1>
                <p data-translate="diet_planning_subtitle">Personalized nutrition plans for healthy individuals and patients</p>
            </div>

            <!-- Navigation Tabs -->
            <ul class="nav nav-tabs" id="dietTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="healthy-tab" data-bs-toggle="tab" data-bs-target="#healthy" type="button" role="tab">
                        <i class="fas fa-heart me-2"></i>
                        <span data-translate="healthy_people_tab">Healthy People</span>
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="patients-tab" data-bs-toggle="tab" data-bs-target="#patients" type="button" role="tab">
                        <i class="fas fa-user-md me-2"></i>
                        <span data-translate="patients_tab">Patients</span>
                    </button>
                </li>
            </ul>

            <!-- Tab Content -->
            <div class="tab-content" id="dietTabContent">
                <!-- Healthy People Tab -->
                <div class="tab-pane fade show active" id="healthy" role="tabpanel">
                    <form id="healthyForm">
                        <!-- Personal Information -->
                        <div class="form-section">
                            <h3 data-translate="personal_info">Personal Information</h3>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label" data-translate="name">Name</label>
                                    <input type="text" class="form-control" id="healthyName" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label" data-translate="age">Age</label>
                                    <input type="number" class="form-control" id="healthyAge" min="13" max="100" required>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label class="form-label" data-translate="height">Height (cm)</label>
                                    <input type="number" class="form-control" id="healthyHeight" min="100" max="250" required>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label class="form-label" data-translate="weight">Weight (kg)</label>
                                    <input type="number" class="form-control" id="healthyWeight" min="30" max="300" required>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label class="form-label" data-translate="gender">Gender</label>
                                    <select class="form-select" id="healthyGender" required>
                                        <option value="" data-translate="select_gender">Select Gender</option>
                                        <option value="male" data-translate="male">Male</option>
                                        <option value="female" data-translate="female">Female</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Activity & Preferences -->
                        <div class="form-section">
                            <h3 data-translate="activity_preferences">Activity & Preferences</h3>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label" data-translate="activity_level">Activity Level</label>
                                    <select class="form-select" id="healthyActivity" required>
                                        <option value="" data-translate="select_activity">Select Activity Level</option>
                                        <option value="sedentary" data-translate="sedentary">Sedentary (little/no exercise)</option>
                                        <option value="light" data-translate="light_active">Lightly Active (light exercise 1-3 days/week)</option>
                                        <option value="moderate" data-translate="moderate_active">Moderately Active (moderate exercise 3-5 days/week)</option>
                                        <option value="very" data-translate="very_active">Very Active (hard exercise 6-7 days/week)</option>
                                        <option value="extra" data-translate="extra_active">Extra Active (very hard exercise, physical job)</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label" data-translate="diet_goal">Diet Goal</label>
                                    <select class="form-select" id="healthyGoal" required>
                                        <option value="" data-translate="select_goal">Select Goal</option>
                                        <option value="maintain" data-translate="maintain_weight">Maintain Weight</option>
                                        <option value="lose" data-translate="lose_weight">Lose Weight</option>
                                        <option value="gain" data-translate="gain_weight">Gain Weight</option>
                                        <option value="muscle" data-translate="build_muscle">Build Muscle</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label" data-translate="cuisine_preference">Cuisine Preference</label>
                                    <select class="form-select" id="healthyCuisine">
                                        <option value="" data-translate="select_cuisine">Select Cuisine</option>
                                        <option value="mediterranean" data-translate="mediterranean">Mediterranean</option>
                                        <option value="middle_eastern" data-translate="middle_eastern">Middle Eastern</option>
                                        <option value="asian" data-translate="asian">Asian</option>
                                        <option value="american" data-translate="american">American</option>
                                        <option value="european" data-translate="european">European</option>
                                        <option value="indian" data-translate="indian">Indian</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label" data-translate="dietary_preferences">Dietary Preferences</label>
                                    <select class="form-select" id="healthyDietary">
                                        <option value="" data-translate="select_dietary">Select Preference</option>
                                        <option value="none" data-translate="no_restrictions">No Restrictions</option>
                                        <option value="vegetarian" data-translate="vegetarian">Vegetarian</option>
                                        <option value="vegan" data-translate="vegan">Vegan</option>
                                        <option value="keto" data-translate="keto">Keto</option>
                                        <option value="paleo" data-translate="paleo">Paleo</option>
                                        <option value="low_carb" data-translate="low_carb">Low Carb</option>
                                    </select>
                                </div>
                                <div class="col-12 mb-3">
                                    <label class="form-label" data-translate="allergies">Allergies & Food Restrictions</label>
                                    <textarea class="form-control" id="healthyAllergies" rows="3" placeholder="List any allergies or foods to avoid..."></textarea>
                                </div>
                            </div>
                        </div>

                        <div class="text-center">
                            <button type="submit" class="btn btn-primary btn-lg">
                                <i class="fas fa-calculator me-2"></i>
                                <span data-translate="calculate_plan">Calculate My Plan</span>
                            </button>
                        </div>
                    </form>

                    <!-- Results Section -->
                    <div id="healthyResults" class="results-section">
                        <h3 data-translate="your_results">Your Nutritional Analysis</h3>
                        <div id="healthyCalculations"></div>
                    </div>

                    <!-- Weekly Meal Plan Generation Section -->
                    <div class="weekly-plan-section" id="healthyWeeklyPlan" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h3 data-translate="weekly_meal_plan">Weekly Meal Plan Generator</h3>
                            <div class="week-selector">
                                <label class="form-label me-2" data-translate="select_week">Week:</label>
                                <select class="form-select d-inline-block w-auto" id="healthyWeekSelector">
                                    <option value="1" data-translate="week_1">Week 1</option>
                                    <option value="2" data-translate="week_2">Week 2</option>
                                    <option value="3" data-translate="week_3">Week 3</option>
                                    <option value="4" data-translate="week_4">Week 4</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="text-center mb-4">
                            <button class="btn generate-btn" id="healthyGenerateBtn" onclick="generateWeeklyMealPlan('healthy')">
                                <i class="fas fa-magic me-2"></i>
                                <span data-translate="generate_meal_plan">Generate Meal Plan</span>
                            </button>
                        </div>

                        <!-- Loading Spinner -->
                        <div class="loading-spinner" id="healthyLoadingSpinner" style="display: none;">
                            <div class="spinner"></div>
                            <p data-translate="generating_plan">Generating your personalized meal plan...</p>
                        </div>

                        <!-- Generated Meal Plan Display -->
                        <div class="meal-plan-display" id="healthyMealPlanDisplay" style="display: none;">
                            <div class="d-flex justify-content-between align-items-center mb-4">
                                <h4 data-translate="your_meal_plan">Your Weekly Meal Plan</h4>
                                <div>
                                    <button class="btn btn-success me-2" onclick="generateShoppingList('healthy')">
                                        <i class="fas fa-shopping-cart me-2"></i>
                                        <span data-translate="shopping_list">Shopping List</span>
                                    </button>
                                    <button class="btn pdf-download-btn" onclick="downloadMealPlanPDF('healthy')">
                                        <i class="fas fa-download me-2"></i>
                                        <span data-translate="download_pdf">Download PDF</span>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="weekly-plan-grid" id="healthyWeeklyPlanGrid">
                                <!-- Days will be populated here -->
                            </div>
                        </div>
                    </div>

                    <!-- Original Meal Plan Section (for backward compatibility) -->
                    <div id="healthyMealPlan" class="meal-plan" style="display: none;">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h3 data-translate="weekly_meal_plan">7-Day Meal Plan</h3>
                            <div>
                                <button class="btn btn-success me-2" onclick="generateShoppingList()">
                                    <i class="fas fa-shopping-cart me-2"></i>
                                    <span data-translate="shopping_list">Shopping List</span>
                                </button>
                                <button class="btn btn-primary" onclick="downloadPDF('healthy')">
                                    <i class="fas fa-download me-2"></i>
                                    <span data-translate="download_pdf">Download PDF</span>
                                </button>
                            </div>
                        </div>
                        <div id="healthyMealPlanContent"></div>
                    </div>

                    <!-- Subscription Section -->
                    <div class="subscription-section">
                        <h3 data-translate="monthly_subscription">Monthly Meal Plan Subscription</h3>
                        <p data-translate="subscription_description">Get personalized meal plans delivered monthly with shopping lists and nutrition tracking.</p>
                        <div class="row mt-4">
                            <div class="col-md-6">
                                <button class="btn btn-success btn-lg w-100" onclick="openSubscriptionForm()">
                                    <i class="fas fa-credit-card me-2"></i>
                                    <span data-translate="subscribe_online">Subscribe Online</span>
                                </button>
                            </div>
                            <div class="col-md-6">
                                <button class="btn btn-primary btn-lg w-100" onclick="contactWhatsApp()">
                                    <i class="fab fa-whatsapp me-2"></i>
                                    <span data-translate="contact_whatsapp">Contact via WhatsApp</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Patients Tab -->
                <div class="tab-pane fade" id="patients" role="tabpanel">
                    <form id="patientsForm">
                        <!-- Personal Information (Same as healthy) -->
                        <div class="form-section">
                            <h3 data-translate="personal_info">Personal Information</h3>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label" data-translate="name">Name</label>
                                    <input type="text" class="form-control" id="patientName" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label" data-translate="age">Age</label>
                                    <input type="number" class="form-control" id="patientAge" min="13" max="100" required>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label class="form-label" data-translate="height">Height (cm)</label>
                                    <input type="number" class="form-control" id="patientHeight" min="100" max="250" required>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label class="form-label" data-translate="weight">Weight (kg)</label>
                                    <input type="number" class="form-control" id="patientWeight" min="30" max="300" required>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label class="form-label" data-translate="gender">Gender</label>
                                    <select class="form-select" id="patientGender" required>
                                        <option value="" data-translate="select_gender">Select Gender</option>
                                        <option value="male" data-translate="male">Male</option>
                                        <option value="female" data-translate="female">Female</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Medical Information -->
                        <div class="form-section">
                            <h3 data-translate="medical_info">Medical Information</h3>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label" data-translate="disease_condition">Disease/Condition</label>
                                    <select class="form-select" id="patientDisease" required>
                                        <option value="" data-translate="select_condition">Select Condition</option>
                                        <option value="diabetes_type1" data-translate="diabetes_type1">Type 1 Diabetes</option>
                                        <option value="diabetes_type2" data-translate="diabetes_type2">Type 2 Diabetes</option>
                                        <option value="hypertension" data-translate="hypertension">Hypertension</option>
                                        <option value="heart_disease" data-translate="heart_disease">Heart Disease</option>
                                        <option value="kidney_disease" data-translate="kidney_disease">Kidney Disease</option>
                                        <option value="liver_disease" data-translate="liver_disease">Liver Disease</option>
                                        <option value="obesity" data-translate="obesity">Obesity</option>
                                        <option value="celiac" data-translate="celiac">Celiac Disease</option>
                                        <option value="ibs" data-translate="ibs">IBS</option>
                                        <option value="other" data-translate="other">Other</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label" data-translate="activity_level">Activity Level</label>
                                    <select class="form-select" id="patientActivity" required>
                                        <option value="" data-translate="select_activity">Select Activity Level</option>
                                        <option value="sedentary" data-translate="sedentary">Sedentary</option>
                                        <option value="light" data-translate="light_active">Lightly Active</option>
                                        <option value="moderate" data-translate="moderate_active">Moderately Active</option>
                                        <option value="very" data-translate="very_active">Very Active</option>
                                    </select>
                                </div>
                                <div class="col-12 mb-3">
                                    <label class="form-label" data-translate="medications">Current Medications</label>
                                    <textarea class="form-control" id="patientMedications" rows="3" placeholder="List all current medications..."></textarea>
                                </div>
                            </div>
                        </div>

                        <div class="text-center">
                            <button type="submit" class="btn btn-primary btn-lg">
                                <i class="fas fa-stethoscope me-2"></i>
                                <span data-translate="create_medical_plan">Create Medical Plan</span>
                            </button>
                        </div>
                    </form>

                    <!-- Medical Results Section -->
                    <div id="patientResults" class="results-section">
                        <h3 data-translate="medical_analysis">Medical Nutritional Analysis</h3>
                        <div id="patientCalculations"></div>
                    </div>

                    <!-- Medical Meal Plan Section -->
                    <div id="patientMealPlan" class="meal-plan">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h3 data-translate="medical_meal_plan">Medical 7-Day Meal Plan</h3>
                            <div>
                                <button class="btn btn-success me-2" onclick="generateShoppingList('medical')">
                                    <i class="fas fa-shopping-cart me-2"></i>
                                    <span data-translate="shopping_list">Shopping List</span>
                                </button>
                                <button class="btn btn-primary" onclick="downloadPDF('medical')">
                                    <i class="fas fa-download me-2"></i>
                                    <span data-translate="download_pdf">Download PDF</span>
                                </button>
                            </div>
                        </div>
                        <div id="patientMealPlanContent"></div>
                    </div>

                    <!-- Medical Subscription Section -->
                    <div class="subscription-section">
                        <h3 data-translate="medical_subscription">Medical Meal Plan Subscription</h3>
                        <p data-translate="medical_subscription_description">Get condition-specific meal plans with medical follow-up and monitoring.</p>
                        <div class="row mt-4">
                            <div class="col-md-6">
                                <button class="btn btn-success btn-lg w-100" onclick="openMedicalSubscriptionForm()">
                                    <i class="fas fa-credit-card me-2"></i>
                                    <span data-translate="subscribe_medical">Subscribe to Medical Plan</span>
                                </button>
                            </div>
                            <div class="col-md-6">
                                <button class="btn btn-primary btn-lg w-100" onclick="contactWhatsApp('medical')">
                                    <i class="fab fa-whatsapp me-2"></i>
                                    <span data-translate="contact_medical_whatsapp">Medical Consultation</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Validator.js v10 -->
    <script src="https://cdn.jsdelivr.net/npm/validator@10.11.0/validator.min.js"></script>
    <!-- Custom JavaScript -->
    <script src="../src/js/validation.js"></script>
    <!-- Language System -->
    <script src="../src/js/language.js"></script>
    <!-- Contact Functions -->
    <script src="../src/js/contact.js"></script>
    <!-- Diet Planning JS -->
    <script src="../src/js/diet-planning.js"></script>
    <!-- App JS -->
    <script src="../src/js/app.js"></script>
</body>
</html>